<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Sat-Tracker</title>
  
  <meta name="description" content="Javascript html satelite tracker">
  <meta name="author" content="Mike McAllister">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  
  <link rel="stylesheet" href="css/bootstrap.min.css?v=1.0">
  <link rel="stylesheet" href="css/styles.css?v=1.0">
  
  <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="img/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>

    <nav></nav>
    <div class="map" id="map"></div>
    <div id="databox" class="TestDataDisplay"></div>
    
    
    <p>Your current coordinates.</p>

    <p id="local" class="TestDataDisplay"></p>

    <p>Find satelites above you.</p>
    <label for="searchLat">Lat:
    <input class="searchbox" type="text" name="searchLat" id="searchLat" value="" size="40" maxlength="40"  min="" max="" accept=""/></label><br />
    <label for="searchLng">Lng:
    <input class="searchbox" type="text" name="searchLng" id="searchLng" value="" size="40" maxlength="40"  min="" max="" accept=""/></label><br />
    <label for="searchRad">Degree of view:
    <select class="searchbox" name="searchRad" id="searchRad">
      <option value="90">90</option>
      <option value="80">80</option>
      <option value="70">70</option>
      <option value="60">60</option>
      <option value="50">50</option>
      <option value="40">40</option>
      <option value="30">30</option>
      <option value="20">20</option>
      <option value="10">10</option>      
    </select>
    </label><br />
    <button onclick="findSatAbove();" id="searchAbove" disabled=true>Search</button><br />
    <button onclick="getLocation();" id="resetAbove">Recenter over me</button>
    
    <p>
    <div id="dataAbovebox" class="TestDataDisplay"></div>
    </p>
    
    
    <footer></footer>
    
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="js/common.js"></script>
    
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpn5_1gAS4SJOuzvkeMZK22yOlvZY2kKE&callback=initMap"
    async defer></script>
    
    <script>
        $(document).ready(function() {
            //var mySat = JSON.parse(findSatTLE(25544));
            //setTimeout(function(){ alert(mySat.satname); }, 3000);
            var local = getLocation();
            
           
            
            $(function(){
                findSatTLE(25544).done(function(json) {
                    // do something with json
                    //alert(json.info.satname);
                    $('#databox').text('sat: ' + json.info.satname);
                });
            
            });
            
            
             
           
        });
        
    </script>
</body>
    
</html>